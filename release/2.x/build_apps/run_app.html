<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="End-to-end demo" href="demo.html" /><link rel="prev" title="Build and Sign CCF Applications" href="build_app.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><meta name="generator" content="sphinx-5.0.2, furo 2022.06.21"/>
        <title>Running CCF Applications - CCF documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #3f3f3f;
  --color-code-foreground: #dcdccc;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #3f3f3f;
  --color-code-foreground: #dcdccc;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">CCF  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/ccf.svg" alt="Logo"/>
  </div>
  
</a>

<script>
  function onVersionChange() {
    window.location.href = document.getElementById("versions").value;
  }

  window.addEventListener("DOMContentLoaded", function(){
      let selectedVersion = "main";
      const thisURL = window.location.toString();
      const splitUrl = thisURL.split("/");
      const indexOfRelease = splitUrl.indexOf("release");
      if (indexOfRelease > 0) {
        selectedVersion = splitUrl[indexOfRelease + 1];
      }
      let sel = document.getElementById("versions");
      if (sel != null) {
          let opts = sel.options;
          for (var opt, j = 0; opt = opts[j]; j++) {
              if (opt.text == selectedVersion) {
                  sel.selectedIndex = j;
                  break;
              }
          }
      }
  }, false);
</script>


<label for="versions">
  <div class="visually-hidden">Select Version:</div>
</label>
<select name="versions" id="versions" class="custom-select custom-select-sm" style="margin: 0em 1em;" onchange="onVersionChange()">
    <option value="../../../main/build_apps/run_app.html">
      
        main
      
    </option>
    <option value="../../1.x/build_apps/run_app.html">
      
        1.x
      
    </option>
    <option value="run_app.html">
      
        2.x
      
    </option>
</select>
<form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview/index.html">Overview</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/what_is_ccf.html">What is CCF?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/governance.html">Governance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/performance.html">Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Build Apps</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install_bin.html">Install CCF</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="example.html">C++ Application</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="logging_cpp.html">Logging (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="logging_rpc_api.html">Logging RPC API</a></li>
<li class="toctree-l3"><a class="reference internal" href="logging.html">Logging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="js_app_ts.html">TypeScript Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="js_app_bundle.html">JavaScript Application Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_app.html">Build and Sign CCF Applications</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Running CCF Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="demo.html">End-to-end demo</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="auth/index.html">User Authentication</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="auth/jwt.html">JWT Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="auth/cert.html">Certificate Authentication</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="kv/index.html">Key-Value Store</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="kv/kv_how_to.html">Key-Value Store How-To</a></li>
<li class="toctree-l3"><a class="reference internal" href="kv/kv_serialisation.html">Key-Value Serialisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="kv/api.html">Key-Value Store API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.html">Developer API</a></li>
<li class="toctree-l2"><a class="reference internal" href="crypto.html">Cryptography API</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_policy.html">Release and compatibility policy</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../use_apps/index.html">Use Apps</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../use_apps/issue_commands.html">Issuing Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../use_apps/verify_tx.html">Verifying Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../use_apps/verify_quote.html">Verifying Quote</a></li>
<li class="toctree-l2"><a class="reference internal" href="../use_apps/python_tutorial.html">Python Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../use_apps/rpc_api.html">RPC API</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../operations/index.html">Operations</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/run_setup.html">Setup CCF Runtime Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/start_network.html">Running a CCF Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/ledger_snapshot.html">Ledger and Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/code_upgrade.html">Code Upgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/code_upgrade_1x.html">Code Upgrade 1.x from 2.0 Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/certificates.html">Certificates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/recovery.html">Disaster Recovery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/network.html">Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/node_output.html">Node Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/resource_usage.html">Resource Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/operator_rpc_api.html">Operator RPC API</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../governance/index.html">Governance</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../governance/constitution.html">Constitution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../governance/proposals.html">Proposing and Voting for a Proposal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../governance/open_network.html">Opening a Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../governance/accept_recovery.html">Accepting Recovery and Submitting Shares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../governance/common_member_operations.html">Common Governance Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../governance/adding_member.html">Adding New Members</a></li>
<li class="toctree-l2"><a class="reference internal" href="../governance/hsm_keys.html">Using Member Keys Stored in HSM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../governance/member_rpc_api.html">Member RPC API</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../audit/index.html">Audit</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../audit/receipts.html">Receipts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audit/builtin_maps.html">Built-in Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audit/python_library.html">Python Library</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../contribute/index.html">Contribute</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../contribute/onboarding.html">Onboarding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/create_vm.html">Create Azure SGX VM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/build_setup.html">CCF Development Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/build_ccf.html">Build CCF from Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/release_ccf.html">Release or patch a CCF release</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/build_images.html">CCF Build Images</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../architecture/index.html">Architecture</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../architecture/consensus/index.html">Consensus Protocols</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../architecture/consensus/1tx-reconfig.html">One-transaction Reconfiguration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../architecture/consensus/2tx-reconfig.html">Two-transaction Reconfiguration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/cryptography.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/threading.html">Threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/merkle_tree.html">Merkle Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/ledger.html">Ledger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/raft_tla.html">TLA+ model of CCF’s Raft modifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/node_to_node.html">Node-to-Node Channels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/indexing.html">Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/receipts.html">Receipts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/tls_internals.html">TLS Internals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/tcp_internals.html">TCP Internals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/quic_internals.html">QUIC Internals</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../research/index.html">Research</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference external" href="https://arxiv.org/abs/2105.13116">IA-CCF: Individual Accountability for Permissioned Ledgers</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/microsoft/CCF/blob/main/CCF-TECHNICAL-REPORT.pdf">CCF whitepaper</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="running-ccf-applications">
<h1>Running CCF Applications<a class="headerlink" href="#running-ccf-applications" title="Permalink to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before starting a CCF sandbox environment, make sure that:</p>
<ul class="simple">
<li><p>The CCF runtime environment has successfully been setup (see <a class="reference internal" href="../operations/run_setup.html"><span class="doc">Setup CCF Runtime Environment</span></a>).</p></li>
<li><p>CCF is installed (see <a class="reference internal" href="install_bin.html"><span class="doc">Install CCF</span></a>)</p></li>
</ul>
</div>
<p>The quickest way to start a CCF sandbox is to use the <code class="docutils literal notranslate"><span class="pre">sandbox.sh</span></code> script available as part of the CCF install, specifying the <a class="reference internal" href="index.html"><span class="doc">enclave image</span></a> to run.</p>
<p>The script creates a new one node CCF test network running locally. All the governance requests required to open the network to users are automatically issued.</p>
<p>For example, deploying the generic JS application:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ /opt/ccf/bin/sandbox.sh <span class="o">[</span>-p libjs_generic<span class="o">]</span>
Setting up Python environment...
Python environment successfully setup
<span class="o">[</span><span class="m">16</span>:14:05.294<span class="o">]</span> Starting <span class="m">1</span> CCF node...
<span class="o">[</span><span class="m">16</span>:14:05.295<span class="o">]</span> Virtual mode enabled
<span class="o">[</span><span class="m">16</span>:14:10.010<span class="o">]</span> Started CCF network with the following nodes:
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span>   Node <span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">=</span> https://127.0.0.1:8000
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span> You can now issue business transactions to the opt/ccf/lib/libjs_generic application.
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span> Loaded JS application: /opt/ccf/samples/logging/js
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span> Keys and certificates have been copied to the common folder: ./workspace/sandbox_common
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span> See https://microsoft.github.io/CCF/main/use_apps/issue_commands.html <span class="k">for</span> more information.
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span> Press Ctrl+C to shutdown the network.
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sandbox.sh</span></code> defaults to using CCF’s <cite>virtual</cite> mode, which does not require or make use of SGX. To load debug or release enclaves and make use of SGX, <code class="docutils literal notranslate"><span class="pre">--enclave-type</span></code> must be set to the right value, for example: <code class="docutils literal notranslate"><span class="pre">sandbox.sh</span> <span class="pre">--enclave-type</span> <span class="pre">release</span> <span class="pre">-p</span> <span class="pre">./libjs.enclave.so.signed</span></code></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--verbose</span></code> argument can be used to display all commands issued by operators and members to start the network.</p></li>
</ul>
</div>
<p>The log files (<code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code>) and ledger directory (<code class="docutils literal notranslate"><span class="pre">&lt;node_id&gt;.ledger</span></code>) for each CCF node can be found under <code class="docutils literal notranslate"><span class="pre">./workspace/sandbox_&lt;node_id&gt;</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first time the command is run, a Python virtual environment will be created. This may take a few seconds. It will not be run the next time the <code class="docutils literal notranslate"><span class="pre">sandbox.sh</span></code> script is started.</p>
</div>
<p>In a different terminal, using the local IP address and port of the CCF nodes displayed by the command (e.g. <code class="docutils literal notranslate"><span class="pre">https://127.0.0.1:8000</span></code> for node <code class="docutils literal notranslate"><span class="pre">0</span></code>), it is then possible for users to <a class="reference internal" href="../use_apps/issue_commands.html#issuing-commands"><span class="std std-ref">issue business requests</span></a>.</p>
<section id="sandbox-recovery">
<h2>Sandbox recovery<a class="headerlink" href="#sandbox-recovery" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">sandbox.sh</span></code> script can also be used to automatically recover a defunct network, as per the steps described <a class="reference internal" href="../governance/accept_recovery.html#accepting-recovery-and-submitting-shares"><span class="std std-ref">here</span></a>. The ledger to be recovered (<code class="docutils literal notranslate"><span class="pre">--ledger-dir</span></code>) and the directory containing the members and users identities (<code class="docutils literal notranslate"><span class="pre">--common-dir</span></code>) should be passed as arguments to the script.</p>
<p>Additionally, if snapshots were generated by the defunct service, the recovery procedure can be significantly sped up by re-starting from the latest available snapshot (<code class="docutils literal notranslate"><span class="pre">--snapshots-dir</span></code>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cp -r ./workspace/sandbox_0/0.ledger .
$ cp -r ./workspace/sandbox_0/snapshots . <span class="c1"># Optional, only if snapshots are available</span>
$ /opt/ccf/bin/sandbox.sh --recover --ledger-dir <span class="m">0</span>.ledger --common-dir ./workspace/sandbox_common/ <span class="o">[</span>--snapshots-dir snapshots<span class="o">]</span>
Setting up Python environment...
Python environment successfully setup
<span class="o">[</span><span class="m">16</span>:24:29.563<span class="o">]</span> Starting <span class="m">1</span> CCF node...
<span class="o">[</span><span class="m">16</span>:24:29.563<span class="o">]</span> Recovering network from:
<span class="o">[</span><span class="m">16</span>:24:29.563<span class="o">]</span>  - Common directory: ./workspace/sandbox_common/
<span class="o">[</span><span class="m">16</span>:24:29.563<span class="o">]</span>  - Ledger: <span class="m">0</span>.ledger
<span class="o">[</span><span class="m">16</span>:24:29.563<span class="o">]</span> No available snapshot to recover from. Entire transaction <span class="nb">history</span> will be replayed.
<span class="o">[</span><span class="m">16</span>:24:32.885<span class="o">]</span> Started CCF network with the following nodes:
<span class="o">[</span><span class="m">16</span>:24:32.885<span class="o">]</span>   Node <span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">=</span> https://127.0.0.1:8000
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span> You can now issue business transactions to the opt/ccf/lib/libjs_generic application.
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span> Loaded JS application: /opt/ccf/samples/logging/js
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span> Keys and certificates have been copied to the common folder: ./workspace/sandbox_common
<span class="o">[</span><span class="m">16</span>:24:32.885<span class="o">]</span> See https://microsoft.github.io/CCF/main/use_apps/issue_commands.html <span class="k">for</span> more information.
<span class="o">[</span><span class="m">16</span>:24:32.885<span class="o">]</span> Press Ctrl+C to shutdown the network.
</pre></div>
</div>
<p>The effects of transactions committed by the defunct network should then be recovered. Users can also <a class="reference internal" href="../use_apps/issue_commands.html#issuing-commands"><span class="std std-ref">issue new business requests</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--ledger-recovery-timeout</span></code> argument should be used to specify the maximum timeout (in seconds) that the script will wait for CCF to recover the ledger. Depending on the size of the ledger to recover, this timeout may have to be set to a large value.</p>
</div>
</section>
<section id="debugging">
<h2>Debugging<a class="headerlink" href="#debugging" title="Permalink to this heading">#</a></h2>
<p>To connect a debugger to a CCF node, the configuration passed to <code class="docutils literal notranslate"><span class="pre">oesign</span> <span class="pre">sign</span></code> must have debugging enabled  (<code class="docutils literal notranslate"><span class="pre">Debug=1</span></code>). This <cite>must</cite> be disabled for production enclaves, to ensure confidentiality is maintained. If using the <code class="docutils literal notranslate"><span class="pre">sign_app_library</span></code> function defined in <code class="docutils literal notranslate"><span class="pre">ccf_app.cmake</span></code>, two variants will be produced for each enclave. <code class="docutils literal notranslate"><span class="pre">name.enclave.so.debuggable</span></code> will have debugging enabled (meaning a debugger may be attached - the optimisation level is handled independently), while <code class="docutils literal notranslate"><span class="pre">name.enclave.so.signed</span></code> produces a final debugging-disabled enclave. The produced binaries are otherwise identical.</p>
<p>Additionally, the <code class="docutils literal notranslate"><span class="pre">cchost</span></code> binary must be told that the enclave type is debug, via the <code class="docutils literal notranslate"><span class="pre">enclave.type</span></code> configuration option (set to <code class="docutils literal notranslate"><span class="pre">&quot;debug&quot;</span></code>).</p>
</section>
<section id="integration-tests">
<h2>Integration Tests<a class="headerlink" href="#integration-tests" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">sandbox.sh</span></code> script can be a helpful element of infrastructure to execute Integration Tests against a CCF test network running a particular application (see <a class="reference external" href="https://github.com/microsoft/CCF/blob/main/tests/test_install.sh">test_install.sh</a> script as example).</p>
<p><code class="docutils literal notranslate"><span class="pre">test_install.sh</span></code> illustrates how to wait for the sandbox to be <a class="reference external" href="https://github.com/microsoft/CCF/blob/main/tests/test_install.sh#L33">ready</a> before issuing application transactions, how to shut it down cleanly, and how to trigger a recovery. Recovering a test network can be a useful way to inspect post-test application test.</p>
</section>
<section id="performance-tests">
<h2>Performance Tests<a class="headerlink" href="#performance-tests" title="Permalink to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">sandbox.sh</span></code> can be equally useful for performance testing, for example with a load testing tool such as <a class="reference external" href="https://github.com/tsenart/vegeta">vegeta</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ /opt/ccf/bin/sandbox.sh --package ./liblogging.virtual.so
...
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span>   Node <span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">=</span> https://127.0.0.1:8000
...
<span class="o">[</span><span class="m">16</span>:14:10.011<span class="o">]</span> Keys and certificates have been copied to the common folder: /data/src/CCF/build/workspace/sandbox_common
...
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extracted from the output of sandbox.sh, above.</span>
$ <span class="nb">export</span> <span class="nv">SCDIR</span><span class="o">=</span>/data/src/CCF/build/workspace/sandbox_common
$ <span class="nb">export</span> <span class="nv">VEGETA</span><span class="o">=</span>/opt/vegeta/vegeta
$ <span class="nv">$VEGETA</span> attack --targets sample_targets.json
                 --format json --duration 10s <span class="se">\</span>
                 --cert <span class="nv">$SCDIR</span>/user0_cert.pem <span class="se">\</span>
                 --key <span class="nv">$SCDIR</span>/user0_privk.pem <span class="se">\</span>
                 --root-certs <span class="nv">$SCDIR</span>/service_cert.pem <span class="p">|</span> /opt/vegeta/vegeta report
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">sample_targets.json</span></code> is a file containing some sample requests to be sent as load testing, for example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://127.0.0.1:8000/app/log/private&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;header&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;application/json&quot;</span><span class="p">]},</span><span class="w"> </span><span class="nt">&quot;body&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJpZCI6IDAsICJtc2ciOiAiUHJpdmF0ZSBtZXNzYWdlOiAwIn0=&quot;</span><span class="p">}</span><span class="w"></span>
<span class="p">{</span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://127.0.0.1:8000/app/log/private?id=0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;header&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;application/json&quot;</span><span class="p">]}}</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
  
        <div class="related-pages">
          <a class="next-page" href="demo.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">End-to-end demo</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="build_app.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Build and Sign CCF Applications</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2018, Microsoft Research
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
  <script>
    // Edit this page, on GitHub
    var contentIconContainer = document.querySelector(".content-icon-container");
    const editContent = `
    <div class="edit-this-page">
      <a class="muted-link" href="https://github.com/Microsoft/CCF/edit/main/doc/build_apps/run_app.rst">
        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
          <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
        </svg>
      </a>
    </div>`;
    contentIconContainer.insertAdjacentHTML("afterbegin", editContent);

    // Show GitHub repository home
    var icons = document.querySelector(".icons")
    const repoLinkContent = `
    <a class="muted-link" href="https://github.com/Microsoft/CCF" aria-label="On GitHub">
      <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
      </svg>
    </a>`;
    icons.insertAdjacentHTML("beforeend", repoLinkContent);
  </script>

      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Running CCF Applications</a><ul>
<li><a class="reference internal" href="#sandbox-recovery">Sandbox recovery</a></li>
<li><a class="reference internal" href="#debugging">Debugging</a></li>
<li><a class="reference internal" href="#integration-tests">Integration Tests</a></li>
<li><a class="reference internal" href="#performance-tests">Performance Tests</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});

// Remove height from all mermaid diagrams
window.addEventListener(
  'load',
  function() {
    let nodes = document.querySelectorAll('.mermaid');
    for (let i = 0; i < nodes.length; i++) {
      const element = nodes[i];
      const svg = element.firstChild;
      svg.removeAttribute('height');
    }
  },
  false
);</script>
    <script src="https://kit.fontawesome.com/c75a35380d.js"></script>
    </body>
</html>